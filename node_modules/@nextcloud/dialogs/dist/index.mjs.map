{"version":3,"file":"index.mjs","sources":["../lib/utils/dialogs.ts"],"sourcesContent":["/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport type { AsyncComponent, Component } from 'vue'\n\nimport Vue from 'vue'\n\n/**\n * Helper to spawn a Vue dialog without having to mount it from a component\n *\n * @param dialog The dialog component to spawn\n * @param props Properties to pass to the dialog\n * @param onClose Callback when the dialog is closed\n */\nexport const spawnDialog = (dialog: Component | AsyncComponent, props: any, onClose: (...rest: unknown[]) => void = () => {}) => {\n\tconst el = document.createElement('div')\n\n\tconst container: HTMLElement = document.querySelector(props?.container) || document.body\n\tcontainer.appendChild(el)\n\n\tconst vue = new Vue({\n\t\tel,\n\t\tname: 'VueDialogHelper',\n\t\trender: (h) =>\n\t\t\th(dialog, {\n\t\t\t\tprops,\n\t\t\t\ton: {\n\t\t\t\t\tclose: (...rest: unknown[]) => {\n\t\t\t\t\t\tonClose(rest)\n\t\t\t\t\t\tvue.$destroy()\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t})\n}\n"],"names":["spawnDialog","dialog","props","onClose","el","vue","Vue","h","rest"],"mappings":";;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCO,MAAMA,IAAc,CAACC,GAAoCC,GAAYC,IAAwC,MAAM;AAAC,MAAM;AAC1H,QAAAC,IAAK,SAAS,cAAc,KAAK;AAGvC,GAD+B,SAAS,cAAcF,KAAO,OAAA,SAAAA,EAAA,SAAS,KAAK,SAAS,MAC1E,YAAYE,CAAE;AAElB,QAAAC,IAAM,IAAIC,EAAI;AAAA,IACnB,IAAAF;AAAA,IACA,MAAM;AAAA,IACN,QAAQ,CAACG,MACRA,EAAEN,GAAQ;AAAA,MACT,OAAAC;AAAA,MACA,IAAI;AAAA,QACH,OAAO,IAAIM,MAAoB;AAC9B,UAAAL,EAAQK,CAAI,GACZH,EAAI,SAAS;AAAA,QACd;AAAA,MACD;AAAA,IAAA,CACA;AAAA,EAAA,CACF;AACF;"}