{"version":3,"file":"storagebuilder.js","names":["StorageBuilder","appId","persist","persisted","clear","clearedOnLogout","ScopedStorage","window","localStorage","sessionStorage"],"sources":["../lib/storagebuilder.ts"],"sourcesContent":["\nimport Storage from './storage'\nimport ScopedStorage from './scopedstorage'\n\nexport default class StorageBuilder {\n\n    private appId: string\n    private persisted = false\n    private clearedOnLogout = false\n\n    constructor(appId: string) {\n        this.appId = appId\n    }\n\n    persist(persist: boolean = true): StorageBuilder {\n        this.persisted = persist\n        return this\n    }\n\n    clearOnLogout(clear: boolean = true): StorageBuilder {\n        this.clearedOnLogout = clear\n        return this\n    }\n\n    build(): Storage {\n        return new ScopedStorage(\n            this.appId,\n            this.persisted ? window.localStorage : window.sessionStorage,\n            !this.clearedOnLogout\n        )\n    }\n\n}\n"],"mappings":";;;;;;;AAEA;AAA2C;AAAA;AAAA;AAAA;AAAA;AAAA,IAEtBA,cAAc;EAM/B,wBAAYC,KAAa,EAAE;IAAA;IAAA;IAAA,mCAHP,KAAK;IAAA,yCACC,KAAK;IAG3B,IAAI,CAACA,KAAK,GAAGA,KAAK;EACtB;EAAC;IAAA;IAAA,OAED,mBAAiD;MAAA,IAAzCC,QAAgB,uEAAG,IAAI;MAC3B,IAAI,CAACC,SAAS,GAAGD,QAAO;MACxB,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,yBAAqD;MAAA,IAAvCE,KAAc,uEAAG,IAAI;MAC/B,IAAI,CAACC,eAAe,GAAGD,KAAK;MAC5B,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,iBAAiB;MACb,OAAO,IAAIE,sBAAa,CACpB,IAAI,CAACL,KAAK,EACV,IAAI,CAACE,SAAS,GAAGI,MAAM,CAACC,YAAY,GAAGD,MAAM,CAACE,cAAc,EAC5D,CAAC,IAAI,CAACJ,eAAe,CACxB;IACL;EAAC;EAAA;AAAA;AAAA"}