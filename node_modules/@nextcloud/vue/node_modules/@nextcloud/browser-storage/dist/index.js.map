{"version":3,"file":"index.js","names":["getBuilder","appId","StorageBuilder","clearStorage","storage","pred","Object","keys","filter","k","map","removeItem","bind","clearAll","storages","window","sessionStorage","localStorage","s","clearNonPersistent","startsWith","ScopedStorage","GLOBAL_SCOPE_PERSISTENT"],"sources":["../lib/index.ts"],"sourcesContent":["import StorageBuilder from './storagebuilder'\nimport ScopedStorage from './scopedstorage'\n\nexport function getBuilder(appId: string): StorageBuilder {\n    return new StorageBuilder(appId)\n}\n\nfunction clearStorage(storage: Storage, pred?: (string) => boolean): void {\n    Object.keys(storage)\n        .filter(k => pred ? pred(k) : true)\n        .map(storage.removeItem.bind(storage))\n}\n\nexport function clearAll(): void {\n    const storages = [\n        window.sessionStorage,\n        window.localStorage,\n    ]\n    storages.map(s => clearStorage(s))\n}\n\nexport function clearNonPersistent(): void {\n    const storages = [\n        window.sessionStorage,\n        window.localStorage,\n    ]\n    storages.map(s => clearStorage(s, k => !k.startsWith(ScopedStorage.GLOBAL_SCOPE_PERSISTENT)))\n}\n"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAA2C;AAEpC,SAASA,UAAU,CAACC,KAAa,EAAkB;EACtD,OAAO,IAAIC,uBAAc,CAACD,KAAK,CAAC;AACpC;AAEA,SAASE,YAAY,CAACC,OAAgB,EAAEC,IAA0B,EAAQ;EACtEC,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CACfI,MAAM,CAAC,UAAAC,CAAC;IAAA,OAAIJ,IAAI,GAAGA,IAAI,CAACI,CAAC,CAAC,GAAG,IAAI;EAAA,EAAC,CAClCC,GAAG,CAACN,OAAO,CAACO,UAAU,CAACC,IAAI,CAACR,OAAO,CAAC,CAAC;AAC9C;AAEO,SAASS,QAAQ,GAAS;EAC7B,IAAMC,QAAQ,GAAG,CACbC,MAAM,CAACC,cAAc,EACrBD,MAAM,CAACE,YAAY,CACtB;EACDH,QAAQ,CAACJ,GAAG,CAAC,UAAAQ,CAAC;IAAA,OAAIf,YAAY,CAACe,CAAC,CAAC;EAAA,EAAC;AACtC;AAEO,SAASC,kBAAkB,GAAS;EACvC,IAAML,QAAQ,GAAG,CACbC,MAAM,CAACC,cAAc,EACrBD,MAAM,CAACE,YAAY,CACtB;EACDH,QAAQ,CAACJ,GAAG,CAAC,UAAAQ,CAAC;IAAA,OAAIf,YAAY,CAACe,CAAC,EAAE,UAAAT,CAAC;MAAA,OAAI,CAACA,CAAC,CAACW,UAAU,CAACC,sBAAa,CAACC,uBAAuB,CAAC;IAAA,EAAC;EAAA,EAAC;AACjG"}